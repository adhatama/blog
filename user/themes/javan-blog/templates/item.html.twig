{% extends 'partials/base.html.twig' %}

{% block content %}

    {% set categories = page.taxonomy.category %}

    {% set categoryRaws = [] %}

    {% if categories %}
        {% for value in categories %}
        {% set categoryRaws = categoryRaws|merge(['<a href="' ~ base_url ~ '/category' ~ config.system.param_sep ~ '' ~ value ~'">' ~ value ~ '</a>']) %}
        {% endfor %}
    {% endif %}

    <div class="post--single post">
        <div class="ui basic segment center aligned">
            <h2 class="post__title">{{ page.title }}</h2>
            <div class="muted post__meta">
                {{ page.date|date() }}

                {% if categoryRaws %}
                    , in
                    {{ categoryRaws | join(', ') }}
                {% endif %}
            </div>
        </div>
        <div class="post__body">
            {{ page.content }}

            <div class="ui divider hidden"></div>
            <div>
                {% set tags = page.taxonomy.tag %}
                {% if tags %}
                    Tags:
                    {% for value in tags %}
                        <a class="ui blue basic label" href="{{ base_url }}/tag{{ config.system.param_sep }}{{ value|e('url') }}">{{ value }}</a>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>

    <div class="ui segment basic center aligned">
        <a href="{{ base_url_absolute }}" class="ui button basic blue big"><i class="icon angle left"></i> Return to home</a>
    </div>
{% endblock %}

